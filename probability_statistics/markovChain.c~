#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define FRONT_COIN 0
#define BACK_COIN 1

#define STATUS 2

float transition[STATUS][STATUS] = {{0.5, 0.5}, {0.5, 0.5}};

int nextTransition(int current) {
  float limits = (float)rand() / (float)RAND_MAX;
  float cumulative = 0;
  for (int i = 0; i < STATUS; i++) {
    if (cumulative > limits) {
      return i;
    }
    cumulative += transition[current][i];
  }
  return current;
}

int main() {

  srand(time(NULL));
  
  int currentStatus = FRONT_COIN;

  for (int i = 1; i < 10; i++) {
    printf("%d\n", currentStatus);
    currentStatus = nextTransition(currentStatus);
  }
  
  return EXIT_SUCCESS;  
}  
